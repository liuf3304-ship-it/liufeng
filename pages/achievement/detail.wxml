<!-- detail.wxml -->
<view class="container">
  <view class="back-button" bindtap="goBack">
    <text class="back-icon">â†</text>
    <text class="back-text">è¿”å›</text>
  </view>
  
  <view class="detail-container">
    <!-- åŠ è½½ä¸­ -->
    <view wx:if="{{isLoading}}" class="loading-container">
      <text>åŠ è½½ä¸­...</text>
    </view>
    
    <!-- æˆå°±è¯¦æƒ… -->
    <view wx:elif="{{achievement.id}}" class="achievement-detail card">
      <!-- æˆå°±å¤´éƒ¨ -->
      <view class="achievement-header">
        <view class="achievement-name">{{achievement.achievementName}}</view>
        <view class="achievement-level level-{{achievement.level}}">{{['åˆçº§', 'ä¸­çº§', 'é«˜çº§', 'ä¸“å®¶çº§'][achievement.level - 1]}}</view>
      </view>
      
      <!-- æˆå°±çŠ¶æ€ -->
      <view class="achievement-status {{achievement.isCompleted ? 'completed' : 'in-progress'}}">
        <text>{{achievement.isCompleted ? 'å·²å®Œæˆ' : 'è¿›è¡Œä¸­'}}</text>
      </view>
      
      <!-- æˆå°±æè¿° -->
      <view class="achievement-description">
        <text>{{achievement.description}}</text>
      </view>
      
      <!-- æˆå°±è¿›åº¦ -->
      <view class="achievement-progress">
        <view class="progress-info">
          <text class="progress-title">å®Œæˆè¿›åº¦</text>
          <text class="progress-value">{{achievement.progress}}/{{achievement.target}}</text>
        </view>
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{(achievement.progress / achievement.target) * 100}}%"></view>
        </view>
        <view class="progress-percentage">
          <text>{{Math.round((achievement.progress / achievement.target) * 100)}}%</text>
        </view>
      </view>
      
      <!-- æˆå°±å¥–åŠ± -->
      <view class="achievement-reward">
        <text class="reward-title">å¥–åŠ±</text>
        <view class="reward-content">
          <text class="reward-icon">ğŸ</text>
          <text class="reward-points">{{achievement.rewardPoints}} ç§¯åˆ†</text>
        </view>
      </view>
      
      <!-- å®Œæˆæ—¶é—´ -->
      <view class="achievement-completed-time" wx:if="{{achievement.isCompleted && achievement.completedAt}}">
        <text class="completed-label">å®Œæˆæ—¶é—´ï¼š</text>
        <text class="completed-value">{{achievement.completedAt}}</text>
      </view>
      
      <!-- æˆå°±ç±»å‹ -->
      <view class="achievement-type">
        <text class="type-label">æˆå°±ç±»å‹ï¼š</text>
        <text class="type-value">{{achievement.achievementType}}</text>
      </view>
    </view>
    
    <!-- é”™è¯¯çŠ¶æ€ -->
    <view wx:else class="error-container">
      <text>æˆå°±ä¸å­˜åœ¨æˆ–å·²åˆ é™¤</text>
    </view>
  </view>
</view>