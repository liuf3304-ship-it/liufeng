# 省考搭子小程序导入发布执行计划

## 一、执行概述

### 1. 执行目标
按照用户要求，完成省考搭子小程序的导入、配置、测试和发布工作，确保小程序顺利上线。

### 2. 执行范围
- 小程序导入与配置
- 核心流程测试
- 代码上传
- 审核提交
- 灰度发布
- 全量发布

### 3. 执行时间
- **计划执行时间**：2026-01-16 14:00
- **预计完成时间**：2026-01-17 12:00（含审核等待时间）

## 二、执行步骤

### 1. 微信开发者工具导入源码

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 1.1 | 打开微信开发者工具 | 开发人员 | 工具正常启动 | 工具界面显示正常 |
| 1.2 | 点击「导入项目」按钮 | 开发人员 | 导入项目对话框弹出 | 对话框显示正常 |
| 1.3 | 选择项目目录：`c:\Users\liufeng\Documents\trae_projects\keshiji\weapp-complete` | 开发人员 | 目录选择正确 | 显示项目文件列表 |
| 1.4 | 填入正确AppID：`wxeba310e6d2fa09ca` | 开发人员 | AppID填写正确 | 显示AppID已填入 |
| 1.5 | 点击「导入」按钮 | 开发人员 | 项目导入成功 | 项目加载完成，无编译错误 |
| 1.6 | 点击「编译」按钮 | 开发人员 | 代码编译成功 | 模拟器显示小程序界面 |
| 1.7 | 连接真机进行测试 | 开发人员 | 真机连接成功 | 真机显示小程序界面 |

### 2. 核心流程测试

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 2.1 | 测试注册登录流程 | 测试人员 | 执行手机号注册/登录 | 注册登录成功 |
| 2.2 | 测试搭子匹配流程 | 测试人员 | 设置匹配条件，查找搭子 | 匹配到符合条件的搭子 |
| 2.3 | 测试学习协作流程 | 测试人员 | 进行每日打卡，发送消息 | 打卡成功，消息发送成功 |
| 2.4 | 测试资料工具流程 | 测试人员 | 查看学习资料，参与模考 | 资料查看正常，模考功能正常 |
| 2.5 | 测试个人中心流程 | 测试人员 | 查看个人信息，管理搭子 | 信息显示正常，搭子管理正常 |

### 3. 确认上线条件

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 3.1 | 确认接口已切换到正式环境 | 开发人员 | 检查 `app.js` 中的 `apiBaseUrl` 配置 | 指向正式环境地址：`https://liufeng-dazi-v1.vercel.app/api` |
| 3.2 | 确认测试数据已清理 | 开发人员 | 查询后端数据库 | 数据库中无测试数据 |
| 3.3 | 确认域名备案合规 | 运营人员 | 检查域名备案状态 | 域名已备案，ICP备案号可查询 |

### 4. 上传代码

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 4.1 | 点击「上传」按钮 | 开发人员 | 上传对话框弹出 | 显示上传配置界面 |
| 4.2 | 填写版本号：`1.0.0` | 开发人员 | 版本号填写正确 | 显示版本号：1.0.0 |
| 4.3 | 填写备注：`省考搭子V1.0` | 开发人员 | 备注填写正确 | 显示备注：省考搭子V1.0 |
| 4.4 | 点击「上传」按钮 | 开发人员 | 代码上传成功 | 显示「上传成功」提示 |

### 5. 提交审核

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 5.1 | 登录微信公众平台 | 运营人员 | 登录成功 | 进入公众号后台 |
| 5.2 | 进入「版本管理」页面 | 运营人员 | 页面显示正常 | 显示已上传的版本 |
| 5.3 | 选择刚上传的版本，点击「提交审核」 | 运营人员 | 进入审核配置页面 | 显示审核配置表单 |
| 5.4 | 填写审核信息：
- 测试账号：13800138000（密码：Test@1234）
- 操作步骤：见附件
- 资质材料：营业执照、ICP备案证明 | 运营人员 | 信息填写完整 | 所有必填项已填写 |
| 5.5 | 点击「提交审核」按钮 | 运营人员 | 审核提交成功 | 显示「提交审核成功」提示 |

### 6. 灰度发布

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 6.1 | 等待审核通过 | 运营人员 | 查看审核状态 | 显示「审核通过」 |
| 6.2 | 点击「灰度发布」按钮 | 运营人员 | 进入灰度配置页面 | 显示灰度配置表单 |
| 6.3 | 设置灰度比例为10% | 运营人员 | 比例设置正确 | 显示灰度比例：10% |
| 6.4 | 点击「确认发布」按钮 | 运营人员 | 灰度发布成功 | 显示「灰度发布中」状态 |
| 6.5 | 监控2小时，检查系统指标和用户反馈 | 技术人员 | 查看监控平台和用户反馈 | 各项指标正常，无P0/P1级反馈 |

### 7. 全量发布

| 步骤 | 操作内容 | 责任人 | 验证方法 | 预期结果 |
|-----|---------|-------|---------|---------|
| 7.1 | 2小时监控无异常，点击「全量发布」按钮 | 运营人员 | 全量发布成功 | 显示「全量发布中」状态 |
| 7.2 | 监控全量发布过程 | 技术人员 | 查看监控平台 | 发布过程顺利，无异常 |
| 7.3 | 发布完成，确认小程序已上线 | 运营人员 | 搜索小程序名称 | 能搜索到并正常使用 |

## 三、回滚方案

### 1. 回滚触发条件
- 出现P0级缺陷，影响核心功能
- 系统错误率持续超过1%
- 服务器负载持续超过80%
- 出现数据泄露或安全漏洞

### 2. 回滚步骤
| 步骤 | 操作内容 | 责任人 | 预期结果 |
|-----|---------|-------|---------|
| 1 | 登录微信公众平台，进入「版本管理」页面 | 运营人员 | 显示当前发布版本 |
| 2 | 选择上一个稳定版本，点击「回滚」按钮 | 运营人员 | 回滚操作触发 |
| 3 | 确认回滚信息，点击「确认回滚」按钮 | 运营人员 | 回滚执行成功 |
| 4 | 监控回滚过程，确认系统恢复正常 | 技术人员 | 系统恢复正常运行 |
| 5 | 通知相关人员，分析问题原因 | 项目经理 | 问题原因明确，制定修复方案 |

## 四、执行记录

| 执行步骤 | 执行时间 | 执行人员 | 执行结果 | 备注 |
|---------|---------|---------|---------|-----|
| 微信开发者工具导入源码 |  |  |  |  |
| 核心流程测试 |  |  |  |  |
| 确认上线条件 |  |  |  |  |
| 上传代码 |  |  |  |  |
| 提交审核 |  |  |  |  |
| 灰度发布 |  |  |  |  |
| 全量发布 |  |  |  |  |

## 五、附件

### 1. 测试账号信息
| 账号 | 密码 | 权限 |
|-----|-----|-----|
| 13800138000 | Test@1234 | 普通用户 |
| 13800138001 | Test@1234 | 管理员 |

### 2. 操作步骤
1. 打开微信，搜索「省考搭子」小程序
2. 点击「允许」授权登录
3. 填写备考信息，完成注册
4. 进入「找搭子」页面，设置匹配条件
5. 向匹配到的搭子发送申请
6. 申请通过后，进入「学习协作」页面，进行每日打卡
7. 进入「我的」页面，查看个人信息和学习统计

### 3. 资质材料
- 营业执照扫描件
- ICP备案证明
- 微信小程序开发资质

### 4. 紧急联系人
| 角色 | 姓名 | 联系方式 |
|-----|-----|---------|
| 项目经理 | 李工 | 13800138000 |
| 开发人员 | 张工 | 13800138001 |
| 测试人员 | 王工 | 13800138002 |
| 运营人员 | 刘工 | 13800138003 |
| 客服人员 | 赵工 | 13800138004 |

## 六、执行总结

### 1. 执行结果
- □ 执行成功，小程序顺利上线
- □ 执行失败，原因：____________________

### 2. 问题记录
| 问题ID | 问题描述 | 解决方案 | 解决状态 |
|-------|---------|---------|---------|
| | | | |
| | | | |
| | | | |

### 3. 经验教训
- 
- 
- 

### 4. 后续建议
- 
- 
- 

---

**执行计划制定人**：李工  
**执行计划审核人**：张工  
**执行计划批准人**：王总  
**制定日期**：2026-01-16  
